<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Soma Ai - Entrada</title>

  <link rel="stylesheet" href="./assets/indexstyle.css">
</head>

<body>

  <img src="./assets/imagens/logo2.png" alt="Logo Soma AI" class="logo">
  
  <div id="menu-container">
    <a href="#" id="btn-comecar" class="btn">COME√áAR</a>
  </div>

  <img src="./style/imagens/logo_cruzeiro3.PNG" alt="Logo da sua empresa" class="logo-canto">

<script>
    // 1. Pega os elementos
    const botaoComecar = document.getElementById('btn-comecar');
    const menuContainer = document.getElementById('menu-container');

    const totalFases = 5;

    // 2. Ouve o clique no "COME√áAR"
    botaoComecar.addEventListener('click', function(event) {
      
      event.preventDefault(); 

      document.querySelector('.logo').classList.add('logo-subiu');
      
      // 3. Limpa o container (apaga o bot√£o "COME√áAR")
      menuContainer.innerHTML = '';
      
      // --- üëá ADI√á√ÉO 1: CRIA O T√çTULO "SELECIONE A FASE" üëá ---
      const tituloFases = document.createElement('h2');
      tituloFases.textContent = 'Selecione uma Fase';
      tituloFases.className = 'fases-titulo'; // Classe para estilizar
      menuContainer.appendChild(tituloFases);
      // --- FIM DA ADI√á√ÉO 1 ---

      // 4. CRIA UM NOVO DIV PARA SER O GRID DAS FASES
      const gridContainer = document.createElement('div');
      gridContainer.className = 'fases-grid'; 

      // 5. Pega o progresso salvo
      let nivelMaximoSalvo = parseInt(localStorage.getItem('nivelMaximoSomaAI')) || 0;

      // 6. Cria os bot√µes de fase e joga DENTRO do gridContainer
      for (let i = 0; i < totalFases; i++) {
        let numFase = i + 1;
        
        const botaoFase = document.createElement('a');
        botaoFase.id = `fase-${i}`;
        botaoFase.className = 'fase-botao'; 
        botaoFase.textContent = numFase; 
        
        // 7. --- ADI√á√ÉO 2: VERIFICA SE A FASE EST√Å BLOQUEADA ---
        if (i <= nivelMaximoSalvo) {
          // DESBLOQUEADO
          botaoFase.classList.add('desbloqueado');
          botaoFase.href = `jogo.html?fase=${i}`;
        } else {
          // BLOQUEADO
          botaoFase.classList.add('bloqueado');
          botaoFase.href = '#';
          botaoFase.onclick = (event) => event.preventDefault(); // Impede o clique
        }
        
        gridContainer.appendChild(botaoFase); 
      }

      // 8. Adiciona a GRADE DE FASES na tela
      menuContainer.appendChild(gridContainer);

      // 9. CRIA UM NOVO DIV PARA O BOT√ÉO "VOLTAR"
      const voltarContainer = document.createElement('div');
      voltarContainer.className = 'voltar-container'; 

      // 10. Cria o bot√£o "VOLTAR"
      const botaoVoltar = document.createElement('a');
      botaoVoltar.href = 'index.html'; 
      botaoVoltar.className = 'btn'; // Usa o estilo de bot√£o verde
      botaoVoltar.textContent = 'VOLTAR';
      
      // 11. Adiciona o bot√£o "VOLTAR" ao seu container
      voltarContainer.appendChild(botaoVoltar);

      // 12. Adiciona o container do bot√£o "VOLTAR" na tela
      menuContainer.appendChild(voltarContainer);
    });
  </script>