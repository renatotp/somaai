<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SomaAi - Menu</title>

  <link rel="stylesheet" href="./assets/indexstyle.css">

  <link rel="icon" href="./assets/imagens/logosite.png" type="image/png">

  <style>
    /* BotÃ£o CRÃ‰DITOS no rodapÃ© */
    #btn-creditos {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background-color: rgba(255, 255, 255, 0.2);
      color: #fff;
      border: 2px solid rgba(255, 255, 255, 0.4);
      font-size: 16px;
      padding: 10px 25px;
      border-radius: 15px;
      transition: all 0.3s ease;
      text-decoration: none; /* remove sublinhado */
      backdrop-filter: blur(4px);
    }

    #btn-creditos:hover {
      background-color: rgba(255, 255, 255, 0.4);
      color: #000;
      transform: translateX(-50%) scale(1.05);
    }
  </style>
</head>

<body>

  <img src="./assets/imagens/logo2.png" alt="Logo Soma AI" class="logo">
  
  <div id="menu-container">
    <a href="#" id="btn-comecar" class="btn">COMEÃ‡AR</a>
  </div>

  <!-- ðŸ‘‡ BotÃ£o de CrÃ©ditos fixo no rodapÃ© ðŸ‘‡ -->
  <a href="creditos.html" id="btn-creditos">CRÃ‰DITOS</a>

  <img src="./assets/imagens/logo_cruzeiro3.PNG" alt="Logo Cruzeiro do sul" class="logo-canto">

<script>
  const botaoComecar = document.getElementById('btn-comecar');
  const menuContainer = document.getElementById('menu-container');
  const logo = document.querySelector('.logo');

  const totalFases = 5; 
  const faseSecretaIndex = 5; // fase EXTRA

  function mostrarSelecaoDeFases() {
    logo.classList.add('logo-subiu');
    menuContainer.innerHTML = '';

    const tituloFases = document.createElement('h2');
    tituloFases.textContent = 'Selecione uma Fase';
    tituloFases.className = 'fases-titulo';
    menuContainer.appendChild(tituloFases);

    const gridContainer = document.createElement('div');
    gridContainer.className = 'fases-grid';

    let nivelMaximoSalvo = parseInt(localStorage.getItem('nivelMaximoSomaAI')) || 0;

    for (let i = 0; i < totalFases; i++) {
      let numFase = i + 1;
      const botaoFase = document.createElement('a');
      botaoFase.id = `fase-${i}`;
      botaoFase.className = 'fase-botao';
      botaoFase.textContent = numFase;

      if (i <= nivelMaximoSalvo) {
        botaoFase.classList.add('desbloqueado');
        botaoFase.href = `jogo.html?fase=${i}`;
      } else {
        botaoFase.classList.add('bloqueado');
        botaoFase.href = '#';
        botaoFase.onclick = (ev) => ev.preventDefault();
      }

      gridContainer.appendChild(botaoFase);
    }

    if (nivelMaximoSalvo >= faseSecretaIndex) {
      const botaoSecreto = document.createElement('a');
      botaoSecreto.id = 'fase-secreta';
      botaoSecreto.className = 'fase-botao desbloqueado';
      botaoSecreto.textContent = 'â˜…';
      botaoSecreto.title = 'Fase Secreta!';
      botaoSecreto.href = `jogo.html?fase=${faseSecretaIndex}`;
      gridContainer.appendChild(botaoSecreto);
    }

    menuContainer.appendChild(gridContainer);

    const voltarContainer = document.createElement('div');
    voltarContainer.className = 'voltar-container';

    const botaoVoltar = document.createElement('a');
    botaoVoltar.href = 'index.html';
    botaoVoltar.className = 'btn';
    botaoVoltar.textContent = 'VOLTAR';

    voltarContainer.appendChild(botaoVoltar);
    menuContainer.appendChild(voltarContainer);
  }

  const urlParams = new URLSearchParams(window.location.search);
  const view = urlParams.get('view');

  if (view === 'fases') {
    mostrarSelecaoDeFases();
  } else {
    botaoComecar.addEventListener('click', function(event) {
      event.preventDefault();
      mostrarSelecaoDeFases();
    });
  }
</script>

</body>
</html>
